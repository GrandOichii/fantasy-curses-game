########
#      #
#N    D#
#      #
########
---
visible_range=100
---
D D door index testing
N @ script_tile Oskar npc_script
---
_load:
set npc_name "Oskar"

npc_script:
set _say_name npc_name
if set is_friends then run already_talked_to
say Yes_No "Do you like pizza?"
if _reply == "Yes" then run become_friends
if _reply == "No" then run become_enemy

already_talked_to:
if is_friends == true then say Hi! "Hello, friend!"
if is_friends == false then say Sure... "Begone, pizza-hater."
stop

become_friends:
set is_friends true
say Ok "Yay! You are my friend now"
stop

become_enemy:
set is_friends false
say Ok "What. I can't be friends with you."
stop