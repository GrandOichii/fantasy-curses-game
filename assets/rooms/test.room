########
#N     #
#     D#
#C     #
########
---
visible_range=100
---
D D door index testing
N @ script_tile Oskar npc_script
C # hidden_tile is_friends C chest {"items": ["Iron Leggins", "Iron Helmet", "Iron Sword"]}
---
_load:
set npc_name "Oskar"

npc_script:
set _say_name npc_name
if set is_friends then run already_talked_to
say Yes_No "Do you like pizza?"
if _reply == "Yes" then run become_friends
if _reply == "No" then run become_enemy

already_talked_to:
if is_friends == true then say Hi! "Hello, friend!"
if is_friends == false then say Bye... "Begone, pizza-hater."
stop

become_friends:
say Cool! "Yay! You are my friend now"
say Thanks! "Here, I'll let you take stuff from my chest"
set is_friends true
stop

become_enemy:
say Sure... "What. I can't be friends with you."
set is_friends false
stop